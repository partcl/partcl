#! perl

=for comment

Simple analysis of files generated by parrot's experimental
profiler.

=cut

use strict;
use warnings;

use Fatal qw(open);

my $filename = shift;

open my $fh, '<', $filename;

my %counts;

while (<$fh>) {
  next unless /^CS/;
  chomp;
  $counts{$_}++;
}

for my $sub (sort {$counts{$a} <=> $counts{$b}} keys %counts) {
  printf "%60s%10d\n", $sub, $counts{$sub};
}

